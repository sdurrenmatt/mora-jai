.puzzle-gallery {
    container: puzzle-gallery / inline-size;
    display: flex;
    flex-direction: column;
    align-items: center;
}

.puzzle-gallery__world {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 2.5cqmax;
}

.puzzle-gallery__world-name {
    padding: 2cqmax;
    font-family: "Kaisei Tokumin", serif;
    font-size: 4cqmax;
    font-weight: 800;
    color: #e6c36a;
    text-shadow: 0 0 0.5cqmax rgba(230, 195, 106, 0.3);
}

.puzzle-gallery__button {
    display: flex;
    width: 3cqmax;
    height: 3cqmax;
    align-items: center;
    justify-content: center;
    background: transparent;
    border: none;
    cursor: pointer;
    font-family: "Kaisei Tokumin", serif;
    font-size: 3cqmax;
    font-weight: 800;
    color: #e6c36a;
    text-shadow: 0 0 0.5cqmax rgba(230, 195, 106, 0.3);
    transition: transform 0.2s ease, color 0.3s ease;
}

.puzzle-gallery__button:hover {
    color: #fff3d4;
    transform: scale(1.05);
}

.puzzle-gallery__button:active {
    transform: scale(0.95);
}

.puzzle-gallery__rewards {
    margin: 0;
    padding: 0;
    list-style: none;
    display: grid;
    grid-template-rows: repeat(5, 1fr);
    grid-template-columns: repeat(2, 1fr);
    justify-content: center;
    align-items: start;
    padding: 2cqmax;
    gap: 2cqmax;
}

.puzzle-gallery__reward {
    display: flex;
    flex-direction: column;
    align-items: center;
}

.puzzle-gallery__reward-description {
    display: flex;
    justify-content: center;
    align-items: center;
    line-height: clamp(2rem, 4cqmax, 4rem);
    font-family: "Kaisei Tokumin", serif;
    font-size: clamp(0.75rem, 1.5cqmax, 1.5rem);
    font-weight: 500;
    color: #d7b56b;
    text-shadow:
        0 0 0.5cqmax rgba(215, 181, 107, 0.35),
        0 0 1cqmax rgba(215, 181, 107, 0.25);
    letter-spacing: clamp(0.0625rem, 0.0625cqmax, 0.125rem);
}

.puzzle-gallery__reward--pop-in-appear {
    opacity: 0;
    transform: scale(0.95);
}

.puzzle-gallery__reward--pop-in-appear-active {
    opacity: 1;
    transform: scale(1);
    transition: opacity 400ms ease-out, transform 400ms ease-out;
    transition-delay: calc(mod(var(--i), 2) * 150ms + round(down, var(--i) / 2) * 100ms);
}

@media (min-width: 1024px) and (min-aspect-ratio: 4/3) {
    .puzzle-gallery__rewards {
        grid-template-rows: repeat(2, 1fr);
        grid-template-columns: repeat(5, 1fr);
    }

    .puzzle-gallery__reward--pop-in-appear-active {
        transition-delay: calc(mod(var(--i), 5) * 100ms + round(down, var(--i) / 5) * 150ms);
    }
}