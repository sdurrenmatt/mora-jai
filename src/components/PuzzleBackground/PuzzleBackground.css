.puzzle-background {
    background-image: url("../../assets/images/background.png");
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
    background-attachment: fixed;
}

.puzzle-background::before {
    content: "";
    position: absolute;
    inset: 0;
    background-color: rgba(0, 0, 0, 0.45);
    z-index: 0;
}

.puzzle-background__petals {
    position: fixed;
    inset: 0;
    overflow: hidden;
    z-index: 0;
}

.puzzle-background__petal {
    position: absolute;
    top: -10vh;
    width: 14px;
    height: 10px;
    background: radial-gradient(ellipse 50% 70% at 50% 40%, #580d0f 0%, #5d2c26 85%);
    border-radius: 60% 60% 45% 45% / 70% 70% 40% 40%;
    filter: drop-shadow(0 0 4px rgba(255, 190, 220, 0.4));
    animation: fall var(--duration, 14s) linear infinite;
    transform-origin: center;
}

.puzzle-background__petal:nth-child(1) {
    left: 3%;
    --duration: 14s;
    --scale: 0.9;
    --opacity: 0.94;
    --swing: 6px;
    --rotate-off: 5deg;
    filter: blur(0.3px) brightness(0.98) contrast(1.02) saturate(1.02);
}

.puzzle-background__petal:nth-child(2) {
    left: 8%;
    --duration: 12s;
    --scale: 1.2;
    --opacity: 1;
    --swing: 7px;
    --rotate-off: 0deg;
    filter: blur(0px) brightness(1) contrast(1.08) saturate(1.08);
}

.puzzle-background__petal:nth-child(3) {
    left: 12%;
    --duration: 16s;
    --scale: 0.8;
    --opacity: 0.88;
    --swing: 5px;
    --rotate-off: -3deg;
    filter: blur(0.6px) brightness(0.96) contrast(0.96) saturate(0.98);
}

.puzzle-background__petal:nth-child(4) {
    left: 18%;
    --duration: 13s;
    --scale: 1.3;
    --opacity: 1;
    --swing: 6px;
    --rotate-off: 2deg;
    filter: blur(0px) brightness(1) contrast(1.06) saturate(1.06);
}

.puzzle-background__petal:nth-child(5) {
    left: 23%;
    --duration: 15s;
    --scale: 1.0;
    --opacity: 1;
    --swing: 5px;
    --rotate-off: -1deg;
    filter: blur(0px) brightness(1) contrast(1) saturate(1);
}

.puzzle-background__petal:nth-child(6) {
    left: 28%;
    --duration: 10s;
    --scale: 1.4;
    --opacity: 1;
    --swing: 8px;
    --rotate-off: 4deg;
    filter: blur(0px) brightness(1) contrast(1.08) saturate(1.08);
}

.puzzle-background__petal:nth-child(7) {
    left: 32%;
    --duration: 18s;
    --scale: 0.7;
    --opacity: 0.82;
    --swing: 4px;
    --rotate-off: -5deg;
    filter: blur(0.9px) brightness(0.94) contrast(0.94) saturate(0.96);
}

.puzzle-background__petal:nth-child(8) {
    left: 37%;
    --duration: 14s;
    --scale: 1.1;
    --opacity: 1;
    --swing: 6px;
    --rotate-off: 3deg;
    filter: blur(0px) brightness(1) contrast(1.04) saturate(1.04);
}

.puzzle-background__petal:nth-child(9) {
    left: 43%;
    --duration: 11s;
    --scale: 1.3;
    --opacity: 1;
    --swing: 7px;
    --rotate-off: 0deg;
    filter: blur(0px) brightness(1) contrast(1.06) saturate(1.06);
}

.puzzle-background__petal:nth-child(10) {
    left: 48%;
    --duration: 19s;
    --scale: 0.8;
    --opacity: 0.88;
    --swing: 5px;
    --rotate-off: -3deg;
    filter: blur(0.6px) brightness(0.96) contrast(0.96) saturate(0.98);
}

.puzzle-background__petal:nth-child(11) {
    left: 52%;
    --duration: 13s;
    --scale: 1.2;
    --opacity: 1;
    --swing: 6px;
    --rotate-off: 2deg;
    filter: blur(0px) brightness(1) contrast(1.08) saturate(1.08);
}

.puzzle-background__petal:nth-child(12) {
    left: 57%;
    --duration: 15s;
    --scale: 0.9;
    --opacity: 0.94;
    --swing: 6px;
    --rotate-off: 5deg;
    filter: blur(0.3px) brightness(0.98) contrast(1.02) saturate(1.02);
}

.puzzle-background__petal:nth-child(13) {
    left: 63%;
    --duration: 10s;
    --scale: 1.4;
    --opacity: 1;
    --swing: 8px;
    --rotate-off: 4deg;
    filter: blur(0px) brightness(1) contrast(1.08) saturate(1.08);
}

.puzzle-background__petal:nth-child(14) {
    left: 68%;
    --duration: 17s;
    --scale: 0.8;
    --opacity: 0.88;
    --swing: 5px;
    --rotate-off: -2deg;
    filter: blur(0.6px) brightness(0.96) contrast(0.96) saturate(0.98);
}

.puzzle-background__petal:nth-child(15) {
    left: 72%;
    --duration: 12s;
    --scale: 1.0;
    --opacity: 1;
    --swing: 5px;
    --rotate-off: 0deg;
    filter: blur(0px) brightness(1) contrast(1) saturate(1);
}

.puzzle-background__petal:nth-child(16) {
    left: 77%;
    --duration: 16s;
    --scale: 0.9;
    --opacity: 0.94;
    --swing: 6px;
    --rotate-off: 3deg;
    filter: blur(0.3px) brightness(0.98) contrast(1.02) saturate(1.02);
}

.puzzle-background__petal:nth-child(17) {
    left: 82%;
    --duration: 11s;
    --scale: 1.3;
    --opacity: 1;
    --swing: 7px;
    --rotate-off: 0deg;
    filter: blur(0px) brightness(1) contrast(1.06) saturate(1.06);
}

.puzzle-background__petal:nth-child(18) {
    left: 87%;
    --duration: 18s;
    --scale: 0.7;
    --opacity: 0.82;
    --swing: 4px;
    --rotate-off: -4deg;
    filter: blur(0.9px) brightness(0.94) contrast(0.94) saturate(0.96);
}

.puzzle-background__petal:nth-child(19) {
    left: 92%;
    --duration: 15s;
    --scale: 1.0;
    --opacity: 1;
    --swing: 5px;
    --rotate-off: 0deg;
    filter: blur(0px) brightness(1) contrast(1) saturate(1);
}

.puzzle-background__petal:nth-child(20) {
    left: 97%;
    --duration: 20s;
    --scale: 0.6;
    --opacity: 0.76;
    --swing: 3px;
    --rotate-off: -6deg;
    filter: blur(1.2px) brightness(0.92) contrast(0.92) saturate(0.94);
}

@keyframes fall {
    0% {
        transform: translate(0px, -10vh) rotate(var(--rotate-off)) scale(var(--scale, 1));
        opacity: var(--opacity);
    }

    5% {
        transform: translate(calc(var(--swing) * 0.5), -1vh) rotate(calc(var(--rotate-off) + 7deg)) scale(var(--scale, 1));
    }

    10% {
        transform: translate(var(--swing), 9vh) rotate(calc(var(--rotate-off) + 15deg)) scale(var(--scale, 1));
    }

    15% {
        transform: translate(calc(var(--swing) * 0.3), 14vh) rotate(calc(var(--rotate-off) + 20deg)) scale(var(--scale, 1));
    }

    20% {
        transform: translate(calc(var(--swing) * -0.8), 19vh) rotate(calc(var(--rotate-off) + 25deg)) scale(var(--scale, 1));
    }

    25% {
        transform: translate(calc(var(--swing) * -0.4), 24vh) rotate(calc(var(--rotate-off) + 35deg)) scale(var(--scale, 1));
    }

    30% {
        transform: translate(calc(var(--swing) * 1.2), 28vh) rotate(calc(var(--rotate-off) + 50deg)) scale(var(--scale, 1));
    }

    35% {
        transform: translate(calc(var(--swing) * 0.6), 33vh) rotate(calc(var(--rotate-off) + 60deg)) scale(var(--scale, 1));
    }

    40% {
        transform: translate(calc(var(--swing) * -1), 38vh) rotate(calc(var(--rotate-off) + 75deg)) scale(var(--scale, 1));
    }

    45% {
        transform: translate(calc(var(--swing) * -0.5), 43vh) rotate(calc(var(--rotate-off) + 95deg)) scale(var(--scale, 1));
    }

    50% {
        transform: translate(calc(var(--swing) * 0.8), 48vh) rotate(calc(var(--rotate-off) + 120deg)) scale(var(--scale, 1));
    }

    55% {
        transform: translate(calc(var(--swing) * 0.4), 53vh) rotate(calc(var(--rotate-off) + 135deg)) scale(var(--scale, 1));
    }

    60% {
        transform: translate(calc(var(--swing) * -1.1), 58vh) rotate(calc(var(--rotate-off) + 170deg)) scale(var(--scale, 1));
    }

    65% {
        transform: translate(calc(var(--swing) * -0.6), 63vh) rotate(calc(var(--rotate-off) + 185deg)) scale(var(--scale, 1));
    }

    70% {
        transform: translate(calc(var(--swing) * 0.7), 68vh) rotate(calc(var(--rotate-off) + 220deg)) scale(var(--scale, 1));
    }

    75% {
        transform: translate(calc(var(--swing) * 0.3), 73vh) rotate(calc(var(--rotate-off) + 235deg)) scale(var(--scale, 1));
    }

    80% {
        transform: translate(calc(var(--swing) * -0.9), 78vh) rotate(calc(var(--rotate-off) + 270deg)) scale(var(--scale, 1));
    }

    85% {
        transform: translate(calc(var(--swing) * -0.4), 85vh) rotate(calc(var(--rotate-off) + 290deg)) scale(var(--scale, 1));
    }

    90% {
        transform: translate(calc(var(--swing) * 1), 92vh) rotate(calc(var(--rotate-off) + 320deg)) scale(var(--scale, 1));
    }

    95% {
        transform: translate(calc(var(--swing) * 0.5), 101vh) rotate(calc(var(--rotate-off) + 340deg)) scale(var(--scale, 1));
    }

    100% {
        transform: translate(0px, 110vh) rotate(calc(var(--rotate-off) + 360deg)) scale(var(--scale, 1));
        opacity: calc(var(--opacity) * 0.5);
    }
}